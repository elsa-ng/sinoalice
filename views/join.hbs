{{#section 'head'}}
<style>
    div.slds-container_center.slds-container--medium {
        margin-top: 5rem;
    }

    label.slds-form-element__label {
        color: black;
        font-weight: 500;
        font-size: small;
    }
</style>
<title>Join Us - Genesis Gucci</title>
{{/section}}
<main id="content">
    <div class="slds-container_center slds-container--medium">
        <form>
            <div class="slds-grid slds-wrap slds-grid_align-center slds-grid_vertical-align-center">
                <div class="slds-col slds-size--1-of-1">
                    <h1 class="slds-text-heading--large" title="Join Genesis Gucci">
                        Join Us
                    </h1>
                </div>
                <div class="slds-col slds-size--1-of-1">
                    <p class="join">
                        Please complete the application form and submit your character information for review. You can
                        locate your character information in the <em>Profile</em> section in the game.</p>
                </div>
                <div class="slds-col slds-size--1-of-1 slds-m-top--large">
                    <h2 class="slds-text-heading--medium">
                        Application Form
                    </h2>
                </div>
                <div
                    class="slds-col slds-size--1-of-1 slds-grid slds-grid_vertical slds-wrap slds-m-top--xx-small slds-p-left--large">
                    <div class="slds-col slds-size--1-of-3">
                        <div class="slds-form-element slds-form-element_stacked">
                            <label class="slds-form-element__label" for="charName">Character Name</label>
                            {{!-- <div class="slds-form-element__icon">
                                <button class="slds-button slds-button_icon" aria-describedby="namehelp"
                                    aria-disabled="true" title="Help">
                                    <svg class="slds-button__icon" aria-hidden="true">
                                        <use xlink:href="/slds/icons/utility-sprite/svg/symbols.svg#info"></use>
                                    </svg>
                                    <span class="slds-assistive-text">Help</span>
                                </button>
                                <div class="slds-popover slds-popover_tooltip slds-nubbin_left-bottom" role="tooltip"
                                    id="namehelp" style="position:absolute;top:-30px;left:30px;width:200px">
                                    <div class="slds-popover__body">Only valid alphanumerics are accepted. Special
                                        characters will be removed when the form is submitted.</div>
                                </div>
                            </div> --}}
                            <div class="slds-form-element__control">
                                <input type="text" id="charName" placeholder="e.g. Aries" class="slds-input" />
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size--1-of-3 slds-m-top--xx-small">
                        <div class="slds-form-element slds-form-element_stacked">
                            <label class="slds-form-element__label" for="charID">
                                <abbr class="slds-required" title="required">* </abbr>Character ID</label>
                            <div class="slds-form-element__control">
                                <input type="text" id="charID" placeholder="e.g. 123456789" required=""
                                    class="slds-input" />
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size--1-of-3 slds-m-top--xx-small">
                        <div class="slds-form-element slds-form-element_stacked">
                            <label class="slds-form-element__label" for="charRank">
                                <abbr class="slds-required" title="required">* </abbr>Rank</label>
                            <div class="slds-form-element__control">
                                <input type="number" id="charRank" placeholder="e.g. 190" required=""
                                    class="slds-input" />
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size--1-of-3 slds-m-top--xx-small">
                        <div class="slds-form-element slds-form-element_stacked">
                            <label class="slds-form-element__label" for="charPoints">
                                <abbr class="slds-required" title="required">* </abbr>Points</label>
                            <div class="slds-form-element__control">
                                <input type="number" id="charPoints" placeholder="e.g. 123456" required=""
                                    class="slds-input" />
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size--1-of-3 slds-m-top--xx-small">
                        <div class="slds-form-element slds-form-element_stacked">
                            <label class="slds-form-element__label" for="discordUser">Discord Username</label>
                            {{!-- <div class="slds-form-element__icon">
                                <button class="slds-button slds-button_icon" aria-describedby="discordhelp"
                                    aria-disabled="true" title="Help">
                                    <svg class="slds-button__icon" aria-hidden="true">
                                        <use xlink:href="/slds/icons/utility-sprite/svg/symbols.svg#info"></use>
                                    </svg>
                                    <span class="slds-assistive-text">Help</span>
                                </button>
                                <div class="slds-popover slds-popover_tooltip slds-nubbin_left-bottom" role="tooltip"
                                    id="discordhelp" style="position:absolute;top:-40px;left:30px;width:200px">
                                    <div class="slds-popover__body">We will reach out to you through Discord if a
                                        username is provided; otherwise, we will contact you through in-game private
                                        chat.</div>
                                </div>
                            </div> --}}
                            <div class="slds-form-element__control">
                                <input type="text" id="discordUser" placeholder="e.g. aries12345" class="slds-input" />
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size--1-of-1 slds-m-top--medium slds-p-left--xx-small">
                        <button type="submit" class="slds-button slds-button_brand">Submit</button>
                    </div>
                </div>
            </div>
        </form>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script>
            $("form").on("submit", e => {
                e.preventDefault();

                const email = $("#email")
                    .val()
                    .trim();
                const subject = $("#subject")
                    .val()
                    .trim();
                const text = $("#text")
                    .val()
                    .trim();

                const data = {
                    email,
                    subject,
                    text
                };

                $.post("/submitform", data)
                    .then(() => {
                        window.location.href = "/submitform/sent";
                    })
                    .catch(() => {
                        window.location.href = "/error";
                    });
            });
        </script>
    </div>
</main>